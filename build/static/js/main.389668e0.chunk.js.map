{"version":3,"sources":["services/blogs.js","reducers/blogsReducer.js","components/Blog.js","components/CreateBlog.js","components/Blogs.js","components/User.js","components/Users.js","hooks/index.js","services/login.js","components/Login.js","components/Notification.js","App.js","index.js"],"names":["services_blogs","getAll","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","response","wrap","_context","prev","next","axios","get","sent","abrupt","data","stop","apply","this","arguments","getAllUsers","_ref2","_callee2","_context2","addBlog","newBlog","token","config","headers","Authorization","concat","post","then","catch","error","console","log","likeBlog","blog","blogToUpdate","objectSpread","likes","user","id","put","addCommentToBlog","comment","comments","getBlog","removeBlog","window","confirm","delete","displayAllBlogs","t0","sortBlogsByLikes","blogsService","t1","t2","type","displayAllUsers","addLikesToBlog","_ref3","_callee3","_context3","_x","_ref4","_callee4","_context4","_x2","_x3","createBlog","_ref5","_callee5","_context5","_x4","_x5","_ref6","_callee6","_context6","_x6","_x7","setLoggedInUser","showNotification","message","messageColor","status","blogs","sort","firstBlog","secondBlog","notification","reducer","state","length","undefined","users","action","map","filter","Blog","store","_useState","useState","_useState2","slicedToArray","redirect","setRedirect","_useState3","_useState4","setComment","incrementLikes","dispatch","call","addComment","deleteBlog","JSON","parse","localStorage","getItem","title","setTimeout","react_default","createElement","react_router","to","url","onClick","name","username","placeholder","value","onChange","event","target","index","key","CreateBlog","showOrHideForm","author","Blogs","setVisibility","visible","blogStyle","paddingTop","paddingLeft","border","borderWidth","marginBottom","style","display","components_CreateBlog","Table","striped","celled","Body","getState","Row","Cell","react_router_dom","User","AllUsers","Users","exact","path","render","Users_AllUsers","useField","setValue","reset","services_login","Login","password","className","onSubmit","preventDefault","loginService","hasOwnProperty","stringify","setItem","Notification","msgColor","messageStyle","color","background","fontSize","borderStyle","borderRadius","padding","App","setTitle","setAuthor","_useState5","_useState6","setURL","_useState7","_useState8","setVisible","useEffect","_fetchBlogs","t3","fetchBlogs","styled","div","_templateObject","clearBlogInputFields","visibility","Container","Menu","Item","removeItem","Message","Fragment","components_Notification","components_Blogs","match","components_Blog","find","params","components_Users","components_User","components_Login","propTypes","PropTypes","object","isRequired","func","createStore","blogsReducer","renderApp","ReactDOM","document","getElementById","subscribe"],"mappings":"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","file":"static/js/main.389668e0.chunk.js","sourcesContent":["import axios from 'axios'\r\n\r\nconst baseUrl = '/api/blogs'\r\nconst baseUsersUrl = '/api/users'\r\n\r\nconst getAll = async () => {\r\n  const response = await axios.get(baseUrl)\r\n  return response.data\r\n}\r\n\r\nconst getAllUsers = async() => {\r\n  const response = await axios.get(baseUsersUrl)\r\n  return response.data\r\n}\r\n\r\nconst addBlog = (newBlog, token) => {\r\n  const config = {\r\n    headers: { Authorization: `bearer ${token}` },\r\n  }\r\n  return axios\r\n    .post(baseUrl, newBlog, config)\r\n    .then(response => response.data)\r\n    .catch(error => {\r\n      console.log('Error in blogs.js', error.response.data)\r\n      return error.response.data\r\n    })\r\n}\r\n\r\nconst likeBlog = (blog) => {\r\n  const blogToUpdate = { ...blog, likes: blog.likes + 1, user: blog.user.id }\r\n  return axios\r\n    .put(`${baseUrl}/${blogToUpdate.id}`, blogToUpdate)\r\n    .then(response => response.data)\r\n    .catch(error => {\r\n      console.log('Error in likeBlog of blogs.js', error.response.data)\r\n      return error.response.data\r\n    })\r\n}\r\n\r\nconst addCommentToBlog = (blog, comment) => {\r\n  const blogToUpdate = { ...blog, comments: blog.comments.concat(comment), user: blog.user.id }\r\n  return axios\r\n    .put(`${baseUrl}/${blogToUpdate.id}`, blogToUpdate)\r\n    .then(response => response.data)\r\n    .catch(error => {\r\n      console.log('Error in addCommenToBlog of blogs.js', error.response.data)\r\n      return error.response.data\r\n    })\r\n}\r\n\r\nconst getBlog = (blog) => {\r\n  return axios\r\n    .get(`${baseUrl}/${blog.id}`)\r\n    .then(response => response.data)\r\n    .catch(error => error.response.data)\r\n}\r\n\r\nconst removeBlog = (blog, token) => {\r\n  const config = {\r\n    headers: { Authorization: `bearer ${token}` }\r\n  }\r\n  if (window.confirm('do you really want to delete the blog?')) {\r\n    console.log('About to remove blog!!!')\r\n    return axios\r\n      .delete(`${baseUrl}/${blog.id}`, config)\r\n      .then(response => response.data)\r\n      .catch(error => error.response.data)\r\n  }\r\n}\r\n\r\nexport default { getAll, getAllUsers, addBlog, likeBlog, addCommentToBlog, getBlog, removeBlog }","import blogsService from '../services/blogs'\r\n\r\nexport const displayAllBlogs = async () => {\r\n  return {\r\n    type: 'SHOW_ALL_BLOGS',\r\n    data: sortBlogsByLikes(await blogsService.getAll())\r\n  }\r\n}\r\n\r\nexport const displayAllUsers = async () => {\r\n  return {\r\n    type: 'SHOW_ALL_USERS',\r\n    data: await blogsService.getAllUsers()\r\n  }\r\n}\r\n\r\nexport const addLikesToBlog = async (blog) => {\r\n  return {\r\n    type: 'LIKE_BLOG',\r\n    data: await blogsService.likeBlog(blog)\r\n  }\r\n}\r\n\r\nexport const addCommentToBlog = async (blog, comment) => {\r\n  return {\r\n    type: 'ADD_COMMENT',\r\n    data: await blogsService.addCommentToBlog(blog, comment)\r\n  }\r\n}\r\n\r\nexport const createBlog = async (blog, token) => {\r\n  return {\r\n    type: 'ADD_NEW_BLOG',\r\n    data: await blogsService.addBlog(blog, token)\r\n  }\r\n}\r\n\r\nexport const removeBlog = async (blog, token) => {\r\n  await blogsService.removeBlog(blog, token)\r\n  return {\r\n    type: 'REMOVE_BLOG',\r\n    data: blog\r\n  }\r\n}\r\n\r\nexport const setLoggedInUser = (user) => {\r\n  return {\r\n    type: 'SET_CURRENT_USER',\r\n    data: user\r\n  }\r\n}\r\n\r\nexport const showNotification = (message, messageColor, status) => {\r\n  return {\r\n    type: 'SHOW_NOTIFICATION',\r\n    data: { message, messageColor, status }\r\n  }\r\n}\r\n\r\nconst sortBlogsByLikes = blogs => blogs.sort((firstBlog, secondBlog) => secondBlog.likes - firstBlog.likes)\r\n\r\nconst notification = { message: '', messageColor: '', status: '' }\r\n\r\nconst reducer = (state = { blogs: [], users: [], user: null, notification: notification }, action) => {\r\n  switch(action.type) {\r\n  case 'SHOW_ALL_BLOGS'     : return { ...state, blogs: action.data }\r\n  case 'LIKE_BLOG'          :\r\n  {\r\n    const blogs = sortBlogsByLikes(state.blogs.map(blog => blog.id !== action.data.id ? blog : action.data))\r\n    return { ...state, blogs: blogs }\r\n  }\r\n  case 'ADD_NEW_BLOG'       : return { ...state, blogs: state.blogs.concat(action.data) }\r\n  case 'REMOVE_BLOG'        : return { ...state, blogs: state.blogs.filter(blog => blog.id !== action.data.id) }\r\n  case 'ADD_COMMENT'        :\r\n  {\r\n    const blogs = sortBlogsByLikes(state.blogs.map(blog => blog.id !== action.data.id ? blog : action.data))\r\n    return { ...state, blogs: blogs }\r\n  }\r\n  case 'SHOW_ALL_USERS'     : return { ...state, users: action.data }\r\n  case 'SET_CURRENT_USER'   : return { ...state, user: action.data }\r\n  case 'SHOW_NOTIFICATION'  : return { ...state, notification: action.data }\r\n  default                   : return state\r\n  }\r\n}\r\n\r\nexport default reducer","import React, { useState } from 'react'\r\nimport { Redirect } from 'react-router-dom'\r\nimport { addLikesToBlog, addCommentToBlog, removeBlog, showNotification } from '../reducers/blogsReducer'\r\n\r\nlet Blog = ({ blog, user, store }) => {\r\n  // const [ showDetailedBlog, setShowDetailedBlog ] = useState(false)\r\n  const [ redirect, setRedirect ] = useState(false)\r\n  const [ comment, setComment ] = useState('')\r\n\r\n  const incrementLikes = async () => {\r\n    store.dispatch(await addLikesToBlog(blog))\r\n  }\r\n\r\n  const addComment = async() => {\r\n    store.dispatch(await addCommentToBlog(blog, comment))\r\n  }\r\n\r\n  const deleteBlog = async () => {\r\n    setRedirect(true)\r\n    store.dispatch(await removeBlog(blog, JSON.parse(window.localStorage.getItem('user')).token))\r\n    store.dispatch(showNotification(`Sucessfully deleted blog: ${blog.title}`, 'green', 'success'))\r\n    setTimeout(() => store.dispatch(showNotification('', '', '')), 2000)\r\n  }\r\n\r\n  const showBlogDetails = () => {\r\n    return (\r\n      <div>\r\n        {blog ?\r\n          <div>\r\n            {/* <div onClick={() => setShowDetailedBlog(!showDetailedBlog)}> */}\r\n            <div><h1>{blog.title}</h1></div>\r\n            {/* </div> */}\r\n            <div>{blog.url}</div>\r\n            <div>\r\n              {blog.likes} likes&nbsp;&nbsp;\r\n              <button onClick={incrementLikes}>like</button>\r\n            </div>\r\n            <div>{blog.user ? `added by ${blog.user.name}` : ''}</div>\r\n            <div>{console.log(`User 1: ${user.username}, User 2: ${blog.user.username}`)}</div>\r\n            <div>\r\n              {user.username === blog.user.username ? <button onClick={deleteBlog}>remove</button> : ''}\r\n            </div>\r\n            <div><h3>comments</h3></div>\r\n            <div>\r\n              <input\r\n                type='text'\r\n                name='comment'\r\n                placeholder='add comment...'\r\n                value={comment}\r\n                onChange={(event) => setComment(event.target.value)} />\r\n              <button onClick={addComment}>add comment</button>\r\n            </div>\r\n            <div>\r\n              <ul>\r\n                {blog.comments.map((comment, index) => <li key={index}>{comment}</li>)}\r\n              </ul>\r\n            </div>\r\n          </div> : null}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        {console.log('Redirect: ', redirect)}\r\n        {redirect ? <Redirect to=\"/blogs\" /> : showBlogDetails()}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Blog","import React from 'react'\r\n\r\nconst CreateBlog = ({ blog, onChange, onClick, showOrHideForm }) => {\r\n  return (\r\n    <div>\r\n            Title: <input name='title' placeholder=\"Type title...\" value={blog.title} onChange={onChange}/><br/>\r\n            Author: <input name='author' placeholder=\"Type author...\" value={blog.author} onChange={onChange}/><br/>\r\n            URL: <input name='url' placeholder=\"Type URL...\" value={blog.url} onChange={onChange}/><br/>\r\n      <button name='create-blog' onClick={onClick}>Create Blog</button>\r\n      <button name='hide-form' onClick={showOrHideForm}>Hide Form</button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CreateBlog","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport CreateBlog from './CreateBlog'\r\nimport { Table } from 'semantic-ui-react'\r\n\r\nconst Blogs = ({ store, setVisibility, visible, blog, onChange, onClick, showOrHideForm }) => {\r\n\r\n  const blogStyle = {\r\n    paddingTop: 5,\r\n    paddingLeft: 2,\r\n    border: 'solid',\r\n    borderWidth: 1,\r\n    marginBottom: 5\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div style={{ display: setVisibility(visible) }}>\r\n        <button name='show-form' onClick={showOrHideForm}>Show Form</button>\r\n      </div>\r\n      <div style={{ display: setVisibility(!visible) }}>\r\n        <h1><p>Create New Blog</p></h1>\r\n        <CreateBlog blog={blog} onChange={onChange} onClick={onClick} showOrHideForm={showOrHideForm}/>\r\n      </div>\r\n      <div>\r\n        <Table striped celled>\r\n          <Table.Body>\r\n            {/* <ul className='blogs' style={{ listStyle: 'none', paddingLeft: 0 }}> */}\r\n            {store.getState().blogs.map(blog =>\r\n              <Table.Row key={blog.id} style={blogStyle}>\r\n                {/* <Blog blog={blog} user={window.localStorage.getItem('user')} store={store} /> */}\r\n                <Table.Cell><Link to={`/blogs/${blog.id}`}>{blog.title} - {blog.author}</Link></Table.Cell>\r\n              </Table.Row>\r\n            )}\r\n            {/* </ul> */}\r\n          </Table.Body>\r\n        </Table>\r\n        <p>Total blogs: {store.getState().blogs.length}</p>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Blogs","import React from 'react'\r\n\r\nconst User = ({ user }) => {\r\n  return (\r\n    <div>\r\n      {user ?\r\n        <div>\r\n          <div>\r\n            <h1>{user.name}</h1>\r\n          </div>\r\n          <div><h3>blogs added</h3></div>\r\n          <div>\r\n            <ul>\r\n              {user.blogs.map(blog => <li key={blog.id}>{blog.title}</li>)}\r\n            </ul>\r\n          </div>\r\n        </div> : null\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default User","import React from 'react'\r\nimport {  Link, Route } from 'react-router-dom'\r\nimport User from './User'\r\n\r\nconst AllUsers = ({ store }) => {\r\n  return (\r\n    <div>\r\n      <h1>Users</h1>\r\n      <table>\r\n        <tbody>\r\n          <tr>\r\n            <td></td>\r\n            <td><b>blogs created</b></td>\r\n          </tr>\r\n          {store.getState().users.map(user =>\r\n            <tr key={user.id}>\r\n              <td><Link to={`/users/${user.id}`}>{user.name}</Link></td>\r\n              <td>{user.blogs.length}</td>\r\n            </tr>\r\n          )}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst Users = ({ store }) => {\r\n  return (\r\n    <div>\r\n      <Route exact path=\"/users\" render={() => <AllUsers store={store} />} />\r\n      {/* <Route path=\"/users/:id\" render={({ match }) => {\r\n        const user = store.getState().users.find(user => user.id === match.params.id)\r\n        return <User user={user} />\r\n      }\r\n      } /> */}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Users","import { useState } from 'react'\r\nimport axios from 'axios'\r\n\r\nexport const useField = (type) => {\r\n  const [value, setValue] = useState('')\r\n\r\n  const onChange = (event) => {\r\n    setValue(event.target.value)\r\n  }\r\n\r\n  const reset = () => {\r\n    setValue('')\r\n  }\r\n\r\n  return {\r\n    type,\r\n    value,\r\n    onChange,\r\n    reset\r\n  }\r\n}\r\n\r\nexport const useResource = (baseUrl) => {\r\n  const [resources, setResources] = useState([])\r\n\r\n  const getAll = () => {\r\n    axios.get(baseUrl).then(response => setResources(response.data.sort((item1, item2) => item2.likes - item1.likes)))\r\n  }\r\n\r\n  const create = (resource) => {\r\n    const config = {\r\n      headers: { Authorization: `bearer ${JSON.parse(window.localStorage.getItem('user')).token}` },\r\n    }\r\n    axios\r\n      .post(baseUrl, resource, config)\r\n      .then(response => setResources(resources.concat(response.data)))\r\n      .catch(error => {\r\n        console.log('Error in index.js', error.response.data)\r\n        return error.response.data\r\n      })\r\n  }\r\n\r\n  const service = {\r\n    getAll, create\r\n  }\r\n\r\n  return ([\r\n    resources, service\r\n  ])\r\n}","import axios from 'axios'\r\n\r\nconst baseUrl = '/api/login'\r\n\r\nconst login = (user) => {\r\n  console.log(`URL: ${baseUrl}`)\r\n  return axios\r\n    .post(baseUrl, user)\r\n    .then( response => response.data )\r\n    .catch( error => {\r\n      console.log('Error in login.js', error.response.data)\r\n      return error.response.data})\r\n}\r\n\r\nexport default { login }","import React from 'react'\r\nimport { useField } from '../hooks/index'\r\nimport loginService from '../services/login'\r\nimport { setLoggedInUser, showNotification } from '../reducers/blogsReducer'\r\n\r\nconst Login = ({ store }) => {\r\n  const username = useField('text')\r\n  const password = useField('password')\r\n\r\n  const handleLogin = (event) => {\r\n    event.preventDefault()\r\n    loginService\r\n      .login({ username: username.value, password: password.value })\r\n      .then(response => {\r\n        if (!response.hasOwnProperty('error')) {\r\n          console.log('User: ', JSON.stringify(response))\r\n          window.localStorage.setItem('user', JSON.stringify(response))\r\n          store.dispatch(setLoggedInUser(response))\r\n        }\r\n        else {\r\n          store.dispatch(showNotification(response.error + '! please try again.', 'red', 'negative'))\r\n          username.reset()\r\n          password.reset()\r\n          setTimeout(() => store.dispatch(showNotification('', '', '')), 2000)\r\n        }\r\n      })\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <form className=\"ui form\" name=\"login-form\" onSubmit={handleLogin}>\r\n        <div className=\"field\">\r\n          <label>Username:</label>\r\n          <input {...{ ...username, reset: undefined }} />\r\n        </div>\r\n        <div className=\"field\">\r\n          <label>Password:</label>\r\n          <input {...{ ...password, reset: undefined }} />\r\n        </div>\r\n        <button className=\"ui button\" type=\"submit\">Submit</button>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Login","import React from 'react'\r\n\r\nconst Notification = ({ message, msgColor }) => {\r\n  const messageStyle = {\r\n    color: msgColor,\r\n    background: 'lightgrey',\r\n    fontSize: 20,\r\n    borderStyle: 'solid',\r\n    borderRadius: 5,\r\n    padding: 10,\r\n    marginBottom: 10\r\n  }\r\n\r\n  messageStyle.color = msgColor\r\n\r\n  return <div style={messageStyle}>{message}</div>\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\r\nimport { BrowserRouter as Router, Route, Redirect, Link } from 'react-router-dom'\r\nimport { Container, Message, Menu } from 'semantic-ui-react'\r\nimport PropTypes from 'prop-types'\r\nimport Blog from './components/Blog'\r\nimport Blogs from './components/Blogs'\r\nimport User from './components/User'\r\nimport Users from './components/Users'\r\nimport CreateBlog from './components/CreateBlog'\r\nimport Login from './components/Login'\r\nimport Notification from './components/Notification'\r\nimport { displayAllBlogs, displayAllUsers } from './reducers/blogsReducer'\r\nimport { setLoggedInUser, createBlog, showNotification } from './reducers/blogsReducer'\r\nimport styled from 'styled-components'\r\n\r\nexport default function App({ store }) {\r\n  const [ title, setTitle ] = useState('')\r\n  const [ author, setAuthor ] = useState('')\r\n  const [ url, setURL ] = useState('')\r\n  const [ visible, setVisible ] = useState(true)\r\n\r\n  useEffect( () => {\r\n    async function fetchBlogs() {\r\n      store.dispatch(await displayAllBlogs())\r\n      store.dispatch(await displayAllUsers())\r\n    }\r\n    fetchBlogs()\r\n  }, [store])\r\n\r\n  const blog = { title, author, url }\r\n\r\n  const Navigation = styled.div`\r\n  background: BurlyWood;\r\n  padding: 1em;\r\n  `\r\n  const onChange = (event) => {\r\n    switch(event.target.name) {\r\n    case 'title'  : setTitle(event.target.value)\r\n      break\r\n    case 'author' : setAuthor(event.target.value)\r\n      break\r\n    case 'url'    : setURL(event.target.value)\r\n      break\r\n    default       :\r\n    }\r\n  }\r\n\r\n  const onClick = async () => {\r\n    const blog = { title, author, url }\r\n    store.dispatch(await createBlog(blog, JSON.parse(window.localStorage.getItem('user')).token))\r\n    store.dispatch(showNotification(`You created a new blog - ${blog.title}`, 'green', 'success'))\r\n    setTimeout(() => store.dispatch(showNotification('', '', '')), 2000)\r\n    clearBlogInputFields()\r\n  }\r\n\r\n  const setVisibility = visibility => visibility ? '' : 'none'\r\n\r\n  const showOrHideForm = () => {\r\n    setVisible(!visible)\r\n  }\r\n\r\n  const clearBlogInputFields = () => {\r\n    setTitle('')\r\n    setAuthor('')\r\n    setURL('')\r\n  }\r\n\r\n  const handleLogout = () => {\r\n    window.localStorage.removeItem('user')\r\n    store.dispatch(setLoggedInUser(null))\r\n    setVisible(true)\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      <Router>\r\n        <div className=\"App\">\r\n          {!window.localStorage.getItem('user') ?\r\n            <div>\r\n              <h1>Log in to App</h1>\r\n              {store.getState().notification.message ?\r\n                <Message color={store.getState().notification.messageColor}>{store.getState().notification.message}</Message> : <></>}\r\n              {/* <Notification message={store.getState().notification.message} msgColor={store.getState().notification.messageColor} /> */}\r\n              <Login store={store} />\r\n              <Redirect to=\"/\" />\r\n            </div> :\r\n            <div>\r\n              <Menu>\r\n                <Menu.Item><Link style={{ padding: 5 }} to=\"/blogs\">blogs</Link></Menu.Item>\r\n                <Menu.Item><Link style={{ padding: 5 }} to=\"/users\">users</Link></Menu.Item>\r\n                <Menu.Item>\r\n                  User {JSON.parse(window.localStorage.getItem('user')).name} logged in <button onClick={handleLogout}>Logout</button>\r\n                </Menu.Item>\r\n              </Menu>\r\n              {store.getState().notification.message ?\r\n                <Message color={store.getState().notification.messageColor}>{store.getState().notification.message}</Message> : <></>}\r\n              {/* <Notification message={store.getState().notification.message} msgColor={store.getState().notification.messageColor} /> */}\r\n              <div>\r\n                <h1>Blog app</h1>\r\n                {store.getState().notification.message ? <Notification message={store.getState().notification.message} msgColor={store.getState().notification.messageColor} /> : <></>}\r\n              </div>\r\n              <Route exact path=\"/\" render={() => <Blogs store={store} setVisibility={setVisibility} visible={visible} blog={blog} onChange={onChange} onClick={onClick} showOrHideForm={showOrHideForm} />} />\r\n              <Route exact path=\"/blogs\"  render={() => <Blogs store={store} setVisibility={setVisibility} visible={visible} blog={blog} onChange={onChange} onClick={onClick} showOrHideForm={showOrHideForm} />} />\r\n              <Route path=\"/blogs/:id\" render={({ match }) => {\r\n                return <Blog\r\n                  blog={store.getState().blogs.find(blog => blog.id === match.params.id)}\r\n                  user={JSON.parse(window.localStorage.getItem('user'))}\r\n                  store={store} />\r\n              }} />\r\n              <Route exact path=\"/users\"  render={() => <Users store={store} />} />\r\n              <Route path=\"/users/:id\" render={({ match }) => {\r\n                const user = store.getState().users.find(user => user.id === match.params.id)\r\n                return <User user={user} />\r\n              }\r\n              } />\r\n            </div>\r\n          }\r\n        </div>\r\n      </Router>\r\n    </Container>\r\n  )\r\n}\r\n\r\nCreateBlog.propTypes = {\r\n  blog: PropTypes.object.isRequired,\r\n  onChange: PropTypes.func.isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n  showOrHideForm: PropTypes.func.isRequired\r\n}","\r\nimport React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { createStore } from 'redux'\r\nimport Apple from './App'\r\nimport blogsReducer from './reducers/blogsReducer'\r\n\r\nconst store = createStore(blogsReducer)\r\n\r\nconst renderApp = () => {\r\n  ReactDOM.render(<Apple store={store} />, document.getElementById('root'))\r\n}\r\n\r\nrenderApp()\r\nstore.subscribe(renderApp)"],"sourceRoot":""}